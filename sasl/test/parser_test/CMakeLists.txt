SALVIA_CHECK_BUILD_WITH_UNICODE()

INCLUDE_DIRECTORIES(
	${SALVIA_BOOST_HOME_DIR}
	${SALVIA_HOME_DIR}
	${SASL_HOME_DIR}
)

LINK_DIRECTORIES(
	${SALVIA_BOOST_LIB_DIR}
)

include ( tests.cmake )

set( SASL_TEST_PROJECT_DIR parser_test )
set( SASL_TEST_PROJECT_NAME sasl_test_parser )

configure_file(
	${SASL_HOME_DIR}/sasl/test/test_resources/test_main.cpp.in
	${SASL_HOME_DIR}/sasl/test/${SASL_TEST_PROJECT_DIR}/test_main.cpp
	@ONLY
)

set( HEADER_FILES
)

set( SOURCE_FILES
	test_main.cpp
	${SASL_ST_COMBINATOR_TEST_SOURCES}
)

ADD_EXECUTABLE( ${SASL_TEST_PROJECT_NAME} ${HEADER_FILES} ${SOURCE_FILES} )
TARGET_LINK_LIBRARIES( ${SASL_TEST_PROJECT_NAME}
	sasl_syntaxtree sasl_parser sasl_common
	sasl_test_cases sasl_enums EFLIB
	${SALVIA_BOOST_LIBS}
)

SET_TARGET_PROPERTIES( ${SASL_TEST_PROJECT_NAME} PROPERTIES FOLDER "Shader Tests")
SALVIA_CONFIG_OUTPUT_PATHS( ${SASL_TEST_PROJECT_NAME} )
SASL_TEST_CREATE_VCPROJ_USERFILE( ${SASL_TEST_PROJECT_NAME} )